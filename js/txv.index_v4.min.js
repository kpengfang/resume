/*! TenVideo - v1.0.0 - 2015-07-30 17:19:28
 * Copyright (c) 2015
 * Powered by Tencent-Video Web Front End Team 
*/
function __seedplayer_changeStatus(a){}Live.txv.seedplayer=function(a,b,c){function d(a){var b=["version="+o];if(a&&"object"==typeof a)for(var c in a)b.push(c+"="+encodeURIComponent(a[c]));return u&&b.push('auto="1"'),b.join("&")}function e(a){a&&(t=a)}function f(){return t}function g(a){if(!a)return"";var b="";if(txv.common.useHtml5()){if(!v||!QZFL.lang.isString(a.vur)||-1==a.vur.indexOf(".mp4"))return void k();b='<video width="'+l+'" height="'+m+'" controls="1" x-webkit-airplay="true" id="'+p+'" poster="'+a.pic+'">',b+='	<source src="'+a.vurl+'"></source>',b+="</video>"}else{var c=d(a),e="Opaque",f="http://imgcache.qq.com/minivideo_v1/vd/res/TPHomePageAD.swf";Live.userAgent.ie?(b+=11==Live.userAgent.ie?'<object  data="'+f+'" type="application/x-shockwave-flash" width="'+l+'" height="'+m+'" id="'+p+'" align="middle" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab#version=10,0,0,0">':'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+l+'" height="'+m+'" id="'+p+'" align="middle" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab#version=10,0,0,0">',b+='    <param name="allowScriptAccess" value="always" />',b+='    <param name="movie" value="'+f+'" />',b+='    <param name="quality" value="high" />',b+='    <param name="allowFullScreen" value="true"/>',b+='    <param name="play" value="true" />',b+='    <param name="wmode" value="'+e+'" />',b+='    <param name="flashvars" value="'+c+'"/>',b+='    <param name="type" value="application/x-shockwave-flash" />',b+='    <param name="pluginspage" value="http://www.macromedia.com/go/getflashplayer" />',b+="</object>"):b+='<embed wmode="'+e+'"" flashvars="'+c+'" src="'+f+'" quality="high" name="'+p+'" id="'+p+'" bgcolor="#000000" width="'+l+'" height="'+m+'" align="middle" allowScriptAccess="always" allowFullScreen="true"  type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />'}return b}function h(a){txv.log("call getFloatplayerHtml");var b=660,c=600;if(txv.common.useHtml5())return"";var d="",e="",f="transparent";return Live.userAgent.ie?(d+='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+b+'" height="'+c+'" id="'+r+'" align="middle" codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab#version=10,0,0,0">',d+='    <param name="allowScriptAccess" value="always" />',d+='    <param name="movie" value="'+a+'" />',d+='    <param name="quality" value="high" />',d+='    <param name="allowFullScreen" value="true"/>',d+='    <param name="play" value="true" />',d+='    <param name="wmode" value="'+f+'" />',d+='    <param name="flashvars" value="'+e+'"/>',d+='    <param name="type" value="application/x-shockwave-flash" />',d+='    <param name="pluginspage" value="http://www.macromedia.com/go/getflashplayer" />',d+="</object>"):d+='<embed wmode="'+f+'" flashvars="'+e+'" src="'+a+'" quality="high" name="'+r+'" id="'+r+'" bgcolor="#000000" width="'+b+'" height="'+c+'" align="middle" allowScriptAccess="always" allowFullScreen="true"  type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />',txv.log("floatplayer html:"+d),d}function i(a){var b=new Image(1,1);/\?/.test(a)?b.src=a+"&time="+3600*Math.random():b.src=a+"&time="+3600*Math.random()}function j(a,b,c){txv.log("call registFlashMethod");var d=s.getFloatplayer(),e=($e(d),null);if(window.__flash_showfloatplayer=function(){b="number"==typeof Math.ceil(b)?Math.ceil(b):5,txv.log("flash call __flash_showfloatplayer,lastTime:"+b),$e("#"+a.floatplayerid).show(),e=setTimeout(window.__flash_hidefloatplayer,1e3*b);for(var c=0,d=y.length;d>c;c++)i(y[c])},window.__flash_hidefloatplayer=function(){txv.log("call __flash_hidefloatplayer"),$e("#"+a.floatplayerid).hide(),e&&clearTimeout(e)},c&&c.length>0){var f=$e("#"+c);f&&f.size()>0&&f.bind("click",window.__flash_hidefloatplayer)}}function k(a){var b;if(QZFL.lang.isFunction(s.onError))s.onError();else if(a){txv.log("error happen"),b=$e("#"+a).getParent();var c=f();txv.log("show default content:"+c),c!=b.html()&&b.html(c),b.show()}}var l=a||300,m=b||170,n=c||"QQlive_SP_ZZSP",o="20110927",p="_qqlivevideo",q="http://l.qq.com/lview?c=www&loc="+n,r="__floatplayer",s=this,t="",u=!1,v=!0,w=!1,x=QZFL.emptyFn,y=[];this.write=function(a){if(txv.log("call seedplayer.write"),a.playerid){var b=$e("#"+a.playerid);if(0==b.size())return;var c,d=b.getParent();e(d.html());var f={};u=!!a.isAutoplay,"undefined"!=typeof a.useHtml5&&(v=a.useHtml5),0==$e(".l_qq_com").size()&&(f.rot=1),$j.ajax({url:q,dataType:"jsonp",jsonCache:60,data:f,scriptCharset:"gb2312",charset:"gb2312",success:function(d){if(d&&d[0]&&d[0][0]&&d[0][0].fodder&&d[0][0].fodder[0]&&d[0][0].fodder[0].flv&&d[0][0].fodder[0].flv&&d[0][0].fodder[0].flv.length>4&&d[0][0].fodder[0].flv_time){var e=d[0][0],f=g({vurl:e.fodder[0].flv,pic:e.fodder[0].pic,flvTime:e.fodder[0].flv_time,floatLayerTime:e.fodder[0].float_layer_start_time||-1,auto:0,playMindPoint:e.fodder[0].play_mind_point,ping:e.fodder[0].ping});if(u?(b.html(f),w=!0):x=function(){w||(b.html(f),w=!0)},e.fodder[0].float_layer&&a.floatplayerid){var i=$e("#"+a.floatplayerid),l=i.html()+h(e.fodder[0].float_layer);y.push(e.fodder[0].float_mind_point),e.monitor_url&&y.push(e.monitor_url),i.html(l),e.fodder[0].link_to?i.find("a").attr("href",e.fodder[0].link_to):i.find("a").remove(),j(a,e.fodder[0].float_layer_play_time,a.closeBtnId)}txv.common.useHtml5()&&(b.find("source").bind("error",function(){k(a.playerid)}),c=getElementById(p),c&&(c.addEventListener("play",function(){__seedplayer_changeStatus(!0)},!0),c.addEventListener("pause",function(){__seedplayer_changeStatus(!1)},!0),c.addEventListener("ended",function(){__seedplayer_changeStatus(!1)},!0),c.addEventListener("playing",function(){__seedplayer_changeStatus(!0)},!0),u&&c.play())),QZFL.lang.isFunction(s.onShowPlayer)&&s.onShowPlayer(e.fodder[0])}else k(a.playerid)},error:function(){k(a.playerid)}})}},this.getFloatplayer=function(){return Live.userAgent.ie?getElementById(r):document.embeds[r]},this.getSeedplayer=function(){return txv.common.useHtml5()?getElementById(p):Live.userAgent.ie?getElementById(p):document.embeds[p]},this.onError=null,this.onShowPlayer=QZFL.emptyFn,this.stop=function(){var a=this.getSeedplayer();a&&a.pauseVideo?a.pauseVideo():a&&a.pause&&a.pause()},this.play=function(){x();var a=this.getSeedplayer(),b=this;a&&a.resumeVideo?a.resumeVideo():a&&"function"==typeof a.play?a.play():setTimeout(function(){b.play()},50)},this.hidePlayer=function(){var a=this.getSeedplayer();QZFL.dom.setSize(a,1,1)},this.showPlayer=function(){var a=this.getSeedplayer();QZFL.dom.setSize(a,l,m)}},function(a){function b(b,c){return this.attrs=a.extend({},{element:b,triggers:"",panels:"",prev:"",next:"",polish:!0,autoPlay:!1,pauseOnHover:!0,autoPlayPausing:!1,interval:5e3,effect:"none",easing:"easeOutQuart",duration:500,circular:!0,scrollType:"x",triggerType:"click",delay:300,activeIndex:0,step:1,skip:0,length:0,viewSize:[],beforeSwitch:null,afterSwitch:null,panelEvent:null,preventDefault:!0,activeTriggerClass:"active",prevDisClass:"",nextDisClass:"",count:0,lazyStr:"data-src",ajaxStr:"data-ajax",panelWidth:null,panelHeight:null},c),this.cid=d(),this.init(),this}function c(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return b.splice(c,1),b}function d(){return"slider-"+g++}function e(a,b){function c(){c.stop(),d=setTimeout(a,b)}b=b||200;var d;return c.stop=function(){d&&(clearTimeout(d),d=0)},c}function f(a){var b=win.scrollTop(),c=b+win.height(),d=a.offset().top,e=d+a.height();return c>d&&e>b}a=$j?$j:jQuery;var g=0,h="data-slider-cid",i={};win=a(window),a.Slider=b,a.extend(b.prototype,{_getDatasetRole:function(){var b=this.get("element");"string"==typeof b?b=a(b):"",this.set("element",b),this.element=b;var c={},d=["trigger","panel","nav","content","prev","next"];return a.each(d,function(d,e){var f=a("[data-role="+e+"]",b);f.length&&(c[e]=f)}),c},_getSize:function(a){var b=parseInt(a.outerWidth());b+=parseInt(a.css("marginLeft"))||0+parseInt(a.css("marginRight"))||0;var c=parseInt(a.outerHeight());return c+=parseInt(a.css("marginTop"))||0+parseInt(a.css("marginBottom"))||0,[b,c]},_initPanels:function(a){var b=this.get("panels",!0),c=this.get("step");if(b.length>0||(a.panel?b=a.panel:a.content&&(b=a.content.find("> *"))),a.content&&(this.content=a.content),0===b.length)return!1;this.content||(this.content=b.parent()),this.set("panels",b);var d=this.get("viewSize"),e=b.last(),f=b.first(),g=this.get("panelWidth")||this._getSize(e)[0]||this._getSize(f)[0],h=this.get("panelHeight")||this._getSize(e)[1]||this._getSize(f)[1];g=0!=g?g:260,this.set("panelWidth",g),this.set("panelHeight",h),d[0]||(d[0]=g*c,d[1]=h*c,this.set("viewSize",d));var i=this.get("count");if(i&&i!=c&&(d[0]=g*i,d[1]=h*i,this.set("viewSize",d)),!d[0])throw new Error("Please specify viewSize manually");var j="x"===this.get("scrollType"),k=parseInt(j?d[0]:d[1],10),l=parseInt(j?g:h,10),m=l*c;i?"":i=parseInt(k/l,10);var n=Math.ceil((b.length-i)/c),o=(b.length-i)%c;return this.set("length",n),this.set("contentDiff",k),this.set("stepDiff",m),this.set("lastShow",o),this.set("panelDiff",l),this.set("count",i),this.set("prop",j?"marginLeft":"marginTop"),this.set("contentMleft",parseInt(this.content.css("marginLeft"))||0),!0},reload:function(a){var b=this,c=this.get("step"),d=(this.get("count"),this.get("length")),e=this.get("activeIndex"),f=this.get("prop"),g=this.get("panels"),h=g.last(),i=this._getSize(h)[0],j=this._getSize(h)[1],k=this.get("panelWidth"),l=i,m=k-i,n=("x"===this.get("scrollType"),this.get("contentMleft")),o=i,p=this.get("viewSize");if(c!=a){m&&!this.get("spanelWidth")&&this.set("spanelWidth",i),this.get("spanelWidth")&&(l=this.get("spanelWidth")),k=c>a?Math.max(l,k):Math.min(l,k),m=k-i,p[0]=i*a,p[1]=j*a,this.set("viewSize",p),this.set("step",a),this.set("skip",a),this.set("count",a);var q=o*a;this.set("stepDiff",q),this.set("contentDiff",q);var r=Math.ceil((g.length-a)/a);this.set("length",r);var s=(g.length-a)%a;this.set("lastShow",s);var t={},u=Math.abs(Math.ceil(parseInt(b.content.css(f))/k)),v=u%a;v&&(v>Math.floor(a/2)?t[f]=parseInt(this.content.css(f))+m*u-o*(a-v):t[f]=parseInt(this.content.css(f))+m*u+o*v,this.content.css(t)),d==e&&(t[f]=-n-g.length*o+o*a,0==d?t[f]=0:"",this.content.css(t));var w=Math.abs(Math.ceil(parseInt(b.content.css(f))/o)),x=Math.ceil(w/a);this.set("activeIndex",x),w>u&&this._loadImg({toPanels:g.slice(u+c,w+a)}),this.get("circular")||this._setBtnStatus()}},_setBtnStatus:function(a,b){var c=this.get("prevDisClass"),d=this.get("nextDisClass"),e=this.get("activeIndex"),f=this.get("prev"),g=this.get("next"),h=this.get("length"),i=this.get("skip");if("string"!=typeof f&&"string"!=typeof g&&c&&d){if(f.removeClass(c),g.removeClass(d),a||0==a||(a=this.get("activeIndex")),!a&&!b)return 0==e?f.addClass(c):"",void(e==h?g.addClass(d):"");(0==a||0>a-i)&&f.addClass(c),(a==h||a+i>h)&&g.addClass(d)}},_stamp:function(){var a=this.cid;this.element.attr(h,a),i[a]=this},_initTriggers:function(b){var c=this.get("triggers",!0);if(c.length>0);else if(b.trigger)c=b.trigger;else{if(!b.nav)return!1;c=b.nav.find("> *")}return b.nav&&(this.nav=b.nav),this.set("triggers",c),!this.nav&&c.length&&(this.nav=c.parent()),c.each(function(b,c){a(c).data("value",b),a(c).attr("hideFocus",!0)}),!0},_initBtns:function(a){var b=this.get("prev",!0),c=this.get("next",!0);if(b.length>0&&c.length>0);else{if(!a.prev||!a.next)return!1;b=a.prev,c=a.next}return this.set("prev",b),this.set("next",c),b.attr("hideFocus",!0),c.attr("hideFocus",!0),!0},_bindTriggers:function(){function b(b){d._onFocusTrigger(b.type,a(this).data("value")),d.get("preventDefault")&&b.preventDefault()}function c(){clearTimeout(d._switchTimer)}var d=this,e=this.get("triggers");"click"===this.get("triggerType")?e.click(b):e.hover(b,c)},_onFocusTrigger:function(a,b){var c=this;"click"===a?this.switchTo(b,a):this._switchTimer=setTimeout(function(){c.switchTo(b,a)},this.get("delay"))},_switchTrigger:function(a,b){var c=this.get("triggers"),d=this.get("activeTriggerClass");if(!(c.length<1)){c.eq(b).removeClass(d),c.eq(a).addClass(d);(a+1)%(this.get("length")+1);this._setBtnStatus()}},_bindBtns:function(b){function c(b){var d=a(this);return d.unbind("click",c),setTimeout(function(){d.bind("click",c)},g),i.prev(b,!0),!1}function d(b){var c=a(this);return c.unbind("click",d),setTimeout(function(){c.bind("click",d)},g),i.next(b,!0),!1}var e=this.get("prev"),f=this.get("next"),g=this.get("duration"),h=this.get("effect"),i=this;"none"===h?g=100:"",e&&f&&(e.bind("click",c),f.bind("click",d))},_checkCallback:function(b,c){var d=this;a.isFunction(b)&&b(d,c)},_switchTo:function(b,c,d){function e(){f._loadImg(g);var a=f.get("afterAllSwitch");if(f._checkCallback(a,g),d){var b=f.get("afterUserSwitch");f._checkCallback(b,g);var c=f.get("afterSwitch");f._checkCallback(c,g)}}if(b!=c){var f=this,g=this._getPanelInfo(c,b),h=this.get("beforeSwitch");this._checkCallback(h,g),this._switchTrigger(c,b),a.when(f._switchPanel(g)).done(e)}},_loadImg:function(b){var c=b.toPanels;if(c.length>0){var d=c.find("img"),e=this.get("lazyStr");d.each(function(b,c){var d=a(c).attr(e);!c.src&&d&&(c.src=d)})}},_switchPanel:function(b){function c(){switch(e){case"none":f.hide(),g.show();break;case"nothing":break;case"slide":f.slideUp(),g.slideDown();break;case"simFade":f.hide(),g.fadeIn();break;case"fade":h._fade(b);break;case"scroll":h._scroll(b)}d.resolve()}var d=a.Deferred(),e=this.get("effect"),f=this.get("panels"),g=b.toPanels,h=this,i=this.get("ajaxStr"),j=this.get("triggers");if(j.length){var k=j.eq(b.toIndex),l=k.attr(i);l&&!g.data("loaded")?g.load(l,function(){g.data("loaded",!0),c()}):c()}else c();return d},_fade:function(a){if(this.get("step")>1)throw new Error('Effect "fade" only supports step === 1');var b=a.fromPanels.eq(0),c=a.toPanels.eq(0);if(this.anim&&this.anim.stop(!1,!0),c.show().css("opacity",1),a.toIndex!=a.fromIndex){var d=this,e=this.get("duration"),f=this.get("easing");this.anim=b.animate({opacity:0},e,f,function(){d.anim=null,c.css("zIndex",2),b.hide().css("zIndex",1)})}else c.show().css("zIndex",2)},_skipTrigger:function(a,b,c){var d,e=this.get("skipIndex");e||this.set("skipIndex",e=0);var f,g=this.get("triggers"),h=Math.ceil(g.length/a);"prev"==b&&(d=(e-1+h)%h),"next"==b&&(d=(e+1)%h),f=g.slice(d*a,(d+1)*a),c||f.filter("."+this.get("activeTriggerClass")).size()>0&&("prev"==b&&(d=(d-1>0?d-1:h-1)%h),"next"==b&&(d=(d+1)%h),f=g.slice(d*a,(d+1)*a)),g.hide(),f.show(),this.set("skipIndex",d)},_getPanelInfo:function(b,c){var d,e,f=this.get("panels"),g=this.get("step"),h=this.get("count"),i=this.get("lastShow"),j=this.get("length"),k=this.get("polish");return i=b==j?i:0,k?"":i=0,d=f.slice(c*g,c*g+h-i),e=f.slice(b*g,b*g+h),i&&(e=f.slice((b-1)*g+i,(b-1)*g+i+h)),{toIndex:b,fromIndex:c,toPanels:a(e),fromPanels:a(d)}},_scroll:function(a){var b=a.toIndex,c=a.fromIndex;if(b!=c){var d=this.get("contentMleft"),e=this.get("polish"),f=(this.content,"x"===this.get("scrollType")),g=f?"marginLeft":"marginTop",h=this.get("stepDiff"),i=this.get("length"),j=(this.get("count"),this.get("lastShow")),k=this.get("panelDiff"),l=this.get("step"),m=j&&b==i?k*(l-j):0,n=this.get("action");e?"":m=0;var o=-h*b+m+d,p={};p[g]=o+"px",this.anim&&this.anim.stop(!1,!0),0==b&&"next"==n&&this.content.css(g,-h),b==i&&"prev"==n&&this.content.css(g,o+h);var q=this.get("duration"),r=this.get("easing"),s=this;this.anim=this.content.animate(p,q,r,function(){s.anim=null})}},get:function(a,b){var c=this.attrs[a];return c&&b?this.get("element").find(c):c},set:function(a,b){this.attrs[a]=b},init:function(){var b=this._getDatasetRole();if(this._initPanels(b)&&(this._initBtns(b)&&this._bindBtns(b),this.get("circular")||this._setBtnStatus(),!(this.get("length")<1))){this._initTriggers(b)&&this._bindTriggers();var c=this.get("activeIndex");if(c)this._switchTo(0,c);else if(0===c){var d=this._getPanelInfo(0,0);this._loadImg(d)}var e=this.get("autoPlay");e&&a.autoPlay&&a.autoPlay.install.call(this),this._stamp()}},switchTo:function(a,b){var c=this.get("activeIndex");this.set("activeIndex",a),this._switchTo(c,a,b)},prev:function(a,b){var c=this.get("activeIndex"),d=this.get("length"),e=this.get("circular"),f=(this.get("prev"),(c-1+d+1)%(d+1));if(!e){if(f==d)return;this._setBtnStatus(f,"prev")}this.set("action","prev");var g=this.get("skip");return a&&g?void this._skipTrigger(g,"prev",b):void this.switchTo(f,a)},next:function(a,b){var c=this.get("activeIndex"),d=this.get("length"),e=this.get("circular"),f=(this.get("next"),(c+1)%(d+1));if(!e){if(0==f)return;this._setBtnStatus(f,"next")}this.set("action","next");var g=this.get("skip");g&&(a||f%g==0)&&this._skipTrigger(g,"next",b),g&&a||this.switchTo(f,a)},destroy:function(){this.get("autoPlay")&&a.autoPlay&&a.autoPlay.destroy.call(this),c(this.cid,i),this.element.remove()}}),a.fn.extend({Slider:function(c){var d=[];return this.each(function(){var e=a(this),f={};f.hot=e.attr("data-exp")||"",f.activeIndex=parseInt(e.attr("data-activeIndex"))||0,f.triggerType=e.attr("data-triggerType")||"click",f.step=e.attr("data-step"),c?"":c={},f=a.extend(f,c),d.push(new b(a(this),f))}),d}}),a.Slider.query=function(b){var c,d=a(b).eq(0);return d&&(c=d.attr(h)),i[c]},a.autoPlay={install:function(){function a(){b(),i.paused=!1,c=setInterval(function(){i.get("autoPlayPausing")?i.paused=!0:i.paused=!1,i.paused||i.next()},h)}function b(){c&&(clearInterval(c),c=null),i.paused=!0}var c,d=this.get("element"),g="."+this.cid,h=this.get("interval"),i=this;a(),this.stop=b,this.start=a,this._scrollDetect=e(function(){i[f(d)?"start":"stop"]()}),win.on("scroll"+g,this._scrollDetect),this.get("pauseOnHover")&&d.hover(b,a),this._scrollDetect()},destroy:function(){var a="."+this.cid;this.stop&&this.stop(),this._scrollDetect&&(this._scrollDetect.stop(),win.off("scroll"+a))}},a.justScroll=function(b,c){this.speed=c.speed||4,this.prevDisClass="arrow_left_disable",this.nextDisClass="arrow_right_disable",this.element=a(b);for(var d in c)this[d]=c[d];this.init()};var j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return window.setTimeout(a,16)}}(),k=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(a){window.clearTimeout(a)}}(),l=function(){return void 0!==(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame)}();a.extend(a.justScroll.prototype,{init:function(){this.prev=this.element.find(this.prev),this.next=this.element.find(this.next),this.panels=this.element.find(this.panels),this.content=this.panels.first().parent(),this.length=this.panels.length,this.status="stop",this.width=(this.panelWidth?this.panelWidth:this.getWidth(this.panels.first()))*(this.length-this.step),this.idx=1,this.px=2,this.bindBtns()},getWidth:function(a){var b=parseInt(a.outerWidth());return b+=parseInt(a.attr("marginLeft"))||0+parseInt(a.attr("marginRight"))||0},pageMoveOn:function(){var b=this;b.interval=j(a.proxy(b.moveOn,b))},pageMoveOut:function(){var a=this;k(a.interval)},moveOn:function(){var b=this,c=b.content.get(0),d=parseInt(c.style.left,10)||0;if("stop"!==b.status){if(0==d&&"left"===b.status)return void b.prev.addClass(b.prevDisClass);if(-d==b.width&&"right"===b.status)return void b.next.addClass(b.nextDisClass);if(b.idx++,b.idx%2!==0&&!l)return void j(a.proxy(b.moveOn,b));b.idx=1,"left"===b.status&&0>d?c.style.left=d+b.px+"px":"right"===b.status&&-d<b.width&&(c.style.left=d-b.px+"px"),j(a.proxy(b.moveOn,b))}},bindBtns:function(){var b=this,c=this.prev.get(0),d=this.next.get(0),e=this.element.get(0);c.onmouseover=function(){b.status="left",a(d).removeClass("arrow_right_disable")},c.onmouseout=function(){b.status="stop"},d.onmouseover=function(){a(c).removeClass("arrow_left_disable"),b.status="right"},d.onmouseout=function(){b.status="stop"},e.onmouseover=function(){clearTimeout(b.rec_out),b.rec_hover=setTimeout(a.proxy(b.pageMoveOn,b),1)},e.onmouseout=function(){clearTimeout(b.rec_hover),b.rec_out=setTimeout(a.proxy(b.pageMoveOut,b),1)}}}),a.easing.jswing=a.easing.swing,a.extend(jQuery.easing,{def:"easeOutQuad",easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c}})}($j),Live.txv.index={config:{preLoadSize:2,focusPageSize:7,browserTotal:3,notSupport:0,topadId:"head_ad",topadCloseId:"close_ad",bdCls:"page_head_ad",aid:""},init:function(a){Live.object.extend(txv.index.config,a),txv.common.initPage(a),this.initFocus(),this.initTopAd(),this.initSeedPlayer(this.config.aid),this.setDesklink(),this.initFootHoverAndResize(),this.setBookmarkState(),this.setHomeState(),this.initFollow(),this.initPage(),this.init5Ad(),this.initTab(),this.initRecruit()},initPage:$j.noop,initRecruit:function(){var a=this,b=QZFL.cookie.get("zmClose");b&&"1"===b||$j.ajax({url:"http://v.qq.com//json/searchzm/zm.json",dataType:"json"}).done(function(b){1===b.zm_switch&&($j("body").append('<div class="float_volunteer" id="volunteer_icon" style="display:none"><div class="float_inner"><a href="http://v.qq.com/p/paike/volunteer_corps.html" target="_blank" class="link_float"><span class="link_inner">腾讯视频志愿团招募了！</span></a><a href="javascript:;" class="float_close" title="关闭">关闭</a></div></div>'),a.initRecruitScroll())}).fail(function(){})},initRecruitScroll:function(){function a(){var a=$j("body").width(),b=1500;b>a?c.hide():c.show()}function b(){var a,b=$j(this).scrollTop(),e=$j(this).height(),f=d.config.notSupport,g=d.config.browserTotal;6===QZFL.userAgent.ie&&c.css("top",b+e+"px"),g>f&&(a=b>240?50*(g-f-1):0,c.stop().animate({bottom:a+"px"},500))}var c=$j("#volunteer_icon"),d=this;a(),b(),$j(window).resize(function(){var b=QZFL.cookie.get("zmClose");b&&"1"===b||a.apply(this)}),$j(window).scroll(function(){var a=QZFL.cookie.get("zmClose");a&&"1"===a||b.apply(this)}),$j(document).off("click.volunteer","#volunteer_icon a.float_close").on("click.volunteer","#volunteer_icon a.float_close",function(a){a.preventDefault(),QZFL.cookie.set("zmClose","1",document.location.host,"",24),c.hide()})},init5Ad:function(){var a,b=300;$j("._ad_spread_list>li").on("mouseenter",function(){clearTimeout(a);var c=$j(this),d=c.parent(),e=c.find(".link_pic_main"),f=e.width();a=setTimeout(function(){var a=c.index(),e=c.find("img").filter("[data-src]");4==a&&a--,d.stop().animate({left:"-"+a*f+"px"},b),e.size()&&e.attr("src",e.attr("data-src")).removeAttr("data-src"),c.stop().animate({width:4*f+"px"},b)},200)}).on("mouseleave",function(){clearTimeout(a);var c=$j(this),d=c.find(".link_pic_main"),e=d.width(),f=this;c.animate({width:e+"px"},b,function(){f.style.cssText=""}).parent("._ad_spread_list").stop().animate({left:"0px"},b)})},initSeedPlayer:function(a){function b(){d.stop(),f.css({width:"1px",height:"1px"})}function c(){f.css("width","100%"),f.css("height","265px"),6==QZFL.userAgent.ie&&f.css("top",QZFL.dom.getScrollTop()+QZFL.dom.getClientHeight()-265+"px")}var d=new txv.seedplayer(445,265,a),e=$j("#modRecomand"),f=$j("#modSeedplayerPop");d.onError=function(){f.remove(),e.show()},d.onShowPlayer=function(a){if(a&&a.pic&&a.link_to&&a.text){a.pic=QZFL.string.filterAngAndQt(a.pic),a.link_to=QZFL.string.filterAngAndQt(a.link_to),a.text=QZFL.string.filterAngAndQt(a.text);var g=e.find("[data-type='piclink']"),h=e.find("[data-type='textlink']");g.html("<img src='"+a.pic+"' onerror='picerr(this,9)' alt='"+a.text+"'/><span class='mask_palyer_small'></span>"),g.attr("title",a.text),txv.common.useHtml5()?(g.attr("href",a.link_to),g.attr("target","_blank")):(g.click(function(a){a.preventDefault(),c(),d.play(),0==f.find(".pop_ads_close").size()&&$j("#modSeedplayer").append("<a href='javascript:;' class='pop_ads_close' title='关闭'>×</a>")}),txv.login.addOpenLoginCallback(function(){d.stop()}),txv.tips.addOnShowTipsCallBack(function(){d.stop()})),g.attr("title",a.text),h.attr("href",a.link_to).attr("title",a.text),h.text(a.text),f.delegate("a.pop_ads_close","click",function(a){QZFL.event.preventDefault(a),b()})}},d.write({useHtml5:!1,isAutoplay:!1,playerid:"modSeedplayer"}),6==QZFL.userAgent.ie&&txv.common.addScrollCallback&&txv.common.addScrollCallback(function(a,b){f.css("top",a+b-265+"px")})},initTab:function(){$j("#mod_jiemu,._tabpanel").Slider({triggerType:"hover",activeTriggerClass:"current",afterUserSwitch:function(a,b){var c,d;try{c=a._getDatasetRole().trigger,d=c.eq(b.toIndex).attr("_hot"),d?txv.common.btnTj(d):""}catch(e){}}});var a={triggerType:"hover",effect:"nothing",activeTriggerClass:"current",autoPlay:!0,interval:5e3,afterAllSwitch:function(a,b){b.fromPanels.parent().children().removeClass("temp"),b.fromPanels.removeClass("current").addClass("temp"),b.toPanels.addClass("current")}};$j("#brand,#switchpanel,._switchpanel").Slider($j.extend({},a,{interval:15e3,afterAllSwitch:function(a,b){b.fromPanels.removeClass("row_tab_cont_in").addClass("row_tab_cont_out"),b.toPanels.removeClass("row_tab_cont_out").addClass("row_tab_cont_in");var c,d;try{c=a._getDatasetRole().trigger,d=c.eq(b.toIndex).attr("_hot"),d?txv.common.btnTj(d):""}catch(e){}}})),$j("._switchad").Slider(a),new $j.Slider("#mainland_tv_ad",a),new $j.Slider("#us_uk_ad",a),new $j.Slider("#krea_tv_ad",a)},initFollow:function(){seajs.use("widget.follow",function(a){a.create({container:$j("#mod_jiemu"),idAttr:"data-bookid",typeAttr:"data-booktype",f:2,type:"list",buttonTexts:["加入看单","已加入看单","移出看单"],buttonSle:"[data-bookid]",buttonText:"span",openLogin:function(){Live.login.openLogin()},isLogin:function(){return Live.login.isLogin()},onStatusChange:function(a,b){a?$j(b).prev().addClass("link_list_active"):$j(b).prev().removeClass("link_list_active")},followedClass:"btn_collected_small"});Live.login.addLoginCallback(a.onLogin),Live.login.addClearLoginStatusCallback(a.onLogout),6==QZFL.userAgent.ie&&$j("#mod_jiemu").delegate("dd","mouseenter",function(){$j(this).addClass("hover")}).delegate("dd","mouseleave",function(){$j(this).removeClass("hover")})})},initFootHoverAndResize:function(){function a(){var a=QZFL.dom.getClientWidth();1410>a?c.addClass("mod_backtop_nonfull"):c.removeClass("mod_backtop_nonfull"),1240>a?$j("body").addClass("page_normal_width"):$j("body").removeClass("page_normal_width")}var b,c=$j("#hover_right"),d=$j("#btn_backtop"),e={},f=($j("#container_inner"),/ipad; cpu os 5/i.test(navigator.userAgent));txv.common.addScrollCallback&&txv.common.addScrollCallback(function(a,b){a>240?(c.show(),6==QZFL.userAgent.ie&&c.css("top",a+b+"px")):c.hide();var d=Math.floor(a/b);d>0&&!e[d]&&(e[d]=!0,txv.common.btnTj("{pagetype}.show."+d))}),d.off("click").on("click",function(){$j("html,body").animate({scrollTop:0},500,function(){f&&setTimeout(function(){$j("html,body").animate({scrollTop:1})},200)}),c.hide()}),$j(window).on("resize",function(){clearTimeout(b),b=setTimeout(a,200)}),a()},setFootbrowser:function(){this.config.notSupport++,this.config.notSupport>=this.config.browserTotal&&$j("#foot_browser").hide()},setBookmarkState:function(){var a=$j("#foot_book"),b=!1,c=!1,d="http://v.qq.com",e="腾讯视频";window.sidebar&&$j.isFunction(window.sidebar.addPanel)?(b=!0,c=!0):window.opera&&window.print?(a.attr("rel","sidebar"),a.attr("href",d),a.attr("title",e),b=!0):document.all&&(b=!0,c=!0),b||(a.hide(),this.setFootbrowser()),c&&a.on("click",function(){if(document.all)try{window.external.addFavorite(d,e)}catch(a){window.external.AddToFavoritesBar(d,e,e)}else window.sidebar&&window.sidebar.addPanel(d,e,"")})},setHomeState:function(){var a=$j("#foot_sethome"),b="http://v.qq.com";document.all?a.on("click",function(){document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(b)}):(a.hide(),this.setFootbrowser())},setDesklink:function(){var a=$j("#foot_quick"),b="腾讯视频";try{var c=new ActiveXObject("Scripting.FileSystemObject"),d=new ActiveXObject("WScript.Shell");a.on("click",function(){var a=d.SpecialFolders("Desktop");if(c.FolderExists(a)||c.CreateFolder(a),!c.FileExists(a+"//"+b+".lnk")){var e=d.CreateShortcut(a+"//"+b+".lnk");e.Description="shortcut for "+b,e.TargetPath=sUrl,e.WindowStyle=3,e.Save()}})}catch(e){a.hide(),this.setFootbrowser()}},initFocus:function(){var a=$j("#mod_txv_focus_showpic"),b=$j("#mod_txv_focus_prevpic"),c=$j("#mod_txv_focus_title"),d=/ipad; cpu os 5/i.test(navigator.userAgent);if(0!=a.size()){$j("#mod_txv_focus_nav li").on("mouseenter",function(){b.removeClass("active")}),b.bind("webkitAnimationEnd",function(){b.removeClass("active")}),Live.txv.FocusSlider.prototype.changeTitle=function(b,d,e){b&&d&&"undefined"!=typeof e&&(d=QZFL.string.filterAngAndQt(d),a.attr("href",b).attr("title",d).attr("_hot","{pagetype}.focus.big_img."+(e+1)),c.attr("title",d).html(d.replace(/\s+/,"<br/>")))},Live.txv.FocusSlider.prototype.changeImg=function(c,e){b.removeClass("active");var f=this.isNeedCover();b.css({backgroundImage:a.css("backgroundImage"),backgroundColor:a.css("backgroundColor"),display:"block"}),d||b.addClass("active"),f&&b.fadeOut(400),a.css("backgroundColor",e),a.css("backgroundImage","url("+c+")")};var e=new txv.IndexFocus;e.init({smallPicBlock:{preLoadImgNum:txv.index.config.preLoadSize,showCnt:txv.index.config.focusPageSize,items:$j("#mod_txv_focus_nav").find("li"),isLoopPlay:!0},focusPicBlock:{curClass:"current",autoplayDur:5e3,wheretoaddActive:b}})}},initTopAd:function(){var a=this,b=$j("#"+this.config.topadId),c=$j("#"+this.config.topadCloseId),d=$j("body");1==b.size()&&(d.addClass(this.config.bdCls),c.on("click",function(){d.removeClass(a.config.bdCls),b.remove()}))}};/*  |xGv00|e9445f0ce9706aebb1f6eb61489c5021 */