;(function(context){context=context||window;var is_loaded=false,errors=[],error_count=0,max_errors=10,_jserrorlog=context.jserrorlog,jserrorlog={},block="coverpage.jserr",ua=navigator.userAgent.toLowerCase();function getStack(error,deep){var errinfo,l,errstack=[];if(error){errinfo=error.stack?error.stack:error.message;errstack=errinfo.replace(/(?:http:)[^:]*:(.*)/g,"$1").replace(/[\n\s]/g,"").replace(/@/g,"at").split("at");l=deep?deep+1:errstack.length-1;errstack=errstack.slice(1,l);}
else{errstack=getFunCallTrace(arguments.callee.caller);}
return errstack.join("|");}
function getFunCallTrace(caller){var stack=[],caller=caller||arguments.callee.caller;function getFunctionName(func){if(typeof func=='function'||typeof func=='object'){var name=(''+func).match(/function\s*([\w\$]*)\s*\(/);}
return name&&name[1]||"[unknown]";}
while(caller){stack.unshift(getFunctionName(caller));caller=caller&&caller.caller;}
return stack;}
function logError(msg,url,lineStack){var reg=new RegExp("(?:^|;+|\\s+)uin=([^;]*)"),uin,matchArr=[],track_error;if(typeof msg!=="undefined"&&error_count<max_errors){error_count++;url=url||location.href;msg=msg||"unknow error";matchArr=document.cookie.match(reg);uin=!matchArr?"0":matchArr[1];uin=uin.replace(/^o0*/g,"");track_error={uin:uin,file:url,url:location.href,msg:msg,ua:ua,stack:lineStack};errors.push(track_error);if(typeof console!=="undefined"&&console.log&&console.log!=window.alert){console.log("Logger saved: "+msg);}
if(is_loaded==true){reportErrors();}}}
function onReady(handler){var called=false;function ready(){if(called)
return;called=true;handler();}
if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){ready();},false)}
else if(document.attachEvent){if(document.documentElement.doScroll&&window==window.top){function tryScroll(){if(called)
return;if(!document.body)
return;try{document.documentElement.doScroll("left");ready();}
catch(e){setTimeout(tryScroll,0);}}
tryScroll();}
document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){ready();}});}
if(window.addEventListener){window.addEventListener('load',ready,false);}
else if(window.attachEvent){window.attachEvent('onload',ready);}}
function loaded(){is_loaded=true;reportErrors();}
function reportErrors(){var typeStr=Object.prototype.toString.call(errors);if(typeStr=="[object Array]"){errors=onReportError(errors)||errors;sendErrMsg(errors);}
errors=[];error_count=0;}
function onReportError(arr){return arr;}
function sendErrMsg(arr){for(var idx=0,len=arr.length;idx<len;idx++){if(!arr[idx]){continue;}
var img=new Image(),reporturl="http://rcgi.video.qq.com/report/jsbossrep?block="+block+"&ret=-1&level=4&uin="+arr[idx].uin+"&msg=",msg="";msg=[arr[idx].file,arr[idx].url,arr[idx].ua,arr[idx].msg,arr[idx].stack].join("|");msg=encodeURIComponent(msg);img.src=reporturl+msg;}}
onReady(loaded);window.onerror=function(msg,url,line,iLocate,errorObject){var stack=getStack(errorObject);logError(msg,url,line+":"+stack);return false;}
jserrorlog={noConflict:function(){context.jserrorlog=_jserrorlog;return jserrorlog;},report:function(msg,url,lineStack){logError(msg,url,lineStack);},changeReportHandle:function(fn){(typeof fn=="function")&&(onReportError=fn);},setBlock:function(str){if(str){block=str;}},getStack:getStack};context.jserrorlog=jserrorlog;})(window);/*  |xGv00|cbe49d9760ebc5b8144cd1e71e394778 */